<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<link href="../../css/bootstrap/bootstrap.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="../../css/bootstrap/bootstrap-responsive.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="../../css/swc.css" />
<link rel="stylesheet" type="text/css" href="../../css/swc-bootstrap.css" />
<link rel="alternate" type="application/rss+xml" title="The Software Carpentry Blog" href="/feed.xml"/>
<meta http-equiv="last-modified" content="" />
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

  </head>
  <body>
    <div class="container">
      <div class="banner">
  <a href="http://software-carpentry.org" title="Software Carpentry">
    <img alt="Software Carpentry banner" src="../../img/software-carpentry-banner.png" />
  </a>
</div>


      <div class="row-fluid">
        <div class="span10 offset1">
          <h1>Version Control With Git: Using Remote Repositories</h1>
          <h2>github.com?</h2>

<p>GitHub is a site where many people store their open (and closed) source
code repositories. It provides tools for browsing, collaborating on and
documenting code. Your home institution may have a repository hosting
system of it&#39;s own. To find out, ask your system administrator.  GitHub,
much like other forge hosting services (
<a href="https://launchpad.net">launchpad</a>, <a href="https://bitbucket.org">bitbucket</a>,
<a href="http://code.google.com">googlecode</a>, <a href="http://sourceforge.net">sourceforge</a>
etc.) provides :</p>

<ul>
<li>  landing page support </li>
<li>  wiki support</li>
<li>  network graphs and time histories of commits</li>
<li>  code browser with syntax highlighting</li>
<li>  issue (ticket) tracking</li>
<li>  user downloads</li>
<li>  varying permissions for various groups of users</li>
<li>  commit triggered mailing lists</li>
<li>  other service hooks (twitter, etc.)</li>
</ul>

<p><strong>NOTE</strong> Public repos have public licences <strong>by default</strong>. If you don&#39;t
want to share (in the most liberal sense) your stuff with the world, pay
github money for private repos, or host your own.</p>

<h2>github pasword</h2>

<p>Setting up github at first requires a github user name and password.
Please take a moment to <a href="https://github.com/signup/free">create a free one</a>
(if you want to start paying, you can add that to your account some other
day). </p>

<h2>git remote : Steps for Forking a Repository</h2>

<p>A key step to interacting with an online repository that you have forked
is adding the original as a remote repository. By adding the remote
repository, you inform git of a new option for fetching updates and
pushing commits.</p>

<p>The <strong>git remote</strong> command allows you to add, name, rename, list, and
delete repositories such as the original one <strong>upstream</strong> from your
fork, others that may be <strong>parallel</strong> to your fork, and so on.</p>

<h3>Exercise : Fork Our GitHub Repository</h3>

<p>While you probably already have a copy of the SWC-bootcamp repository,
GitHub doesn&#39;t know about it yet. You&#39;ll need to tell github you want to
have an official fork of this repository.</p>

<p>Step 1 : Go to our
<a href="https://github.com/USERNAME/boot-camps/tree/YYYY-MM-PLACE">repository</a>
from your browser, and click on the Fork button. Choose to fork it to your
username rather than any organizations.</p>

<p>Step 2 : Clone it. From your terminal :</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git clone https://github.com/YOU/boot-camps.git
$ cd boot-camps
</code></pre></div>
<p>Step 3 : </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git remote add upstream https://github.com/USERNAME/boot-camps.git
$ git remote -v
origin  https://github.com/YOU/boot-camps.git (fetch)
origin  https://github.com/YOU/boot-camps.git (push)
upstream        https://github.com/USERNAME/boot-camps.git (fetch)
upstream        https://github.com/USERNAME/boot-camps.git (push)
</code></pre></div>
<p>All repositories that are clones begin with a remote called origin.</p>

<h2>git fetch : Fetching the contents of a remote</h2>

<p>Now that you have alerted your repository to the presence of others, it
is able to pull in updates from those repositories. In this case, if you
want your master branch to track updates in the original SWC-bootcamp
repository, you simply <strong>git fetch</strong> that repository into the master
branch of your current repository.</p>

<p>The fetch command alone merely pulls down information recent changes
from the original master (upstream) repository. By itself, the fetch
command does not change your local working copy. To update your local
working copy to include recent changes in the original (upstream)
repository, it is necessary to also merge.</p>

<h2>git merge : Merging the contents of a remote</h2>

<p>To incorporate upstream changes from the original master repository (in
this case USERNAME/boot-camps) into your local working copy, you
must both fetch and merge. The process of merging may result in
conflicts, so pay attention. This is where version control is both at
its most powerful and its most complicated.</p>

<h3>Exercise : Fetch and Merge the Contents of Our GitHub Repository</h3>

<p>Step 1 : Fetch the recent remote repository history</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git fetch upstream
</code></pre></div>
<p>Step 2 : Make certain you are in the YYYY-MM-PLACE branch and merge the
upstream YYYY-MM-PLACE branch into your YYYY-MM-PLACE branch</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git checkout YYYY-MM-PLACE
$ git merge upstream/YYYY-MM-PLACE
</code></pre></div>
<p>Step 3 : Check out what happened by browsing the directory.</p>

<h2>git pull : Pull = Fetch + Merge</h2>

<p>The command <strong>git pull</strong> is the same as executing <strong>git fetch</strong> followed
by <strong>git merge</strong>. Though it is not recommened for cases in which there
are many branches to consider, the pull command is shorter and simpler
than fetching and merging as it automates the branch matching.
Specificially, to perform the same task as we did in the previous
exercise, the pull command would be :</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git pull upstream
Already up-to-date.
</code></pre></div>
<p>When there have been remote changes, the pull will apply those changes
to your local branch, unless there are conflicts with your local
changes.</p>

<h2>git push : Sending Your Commits to Remote Repositories</h2>

<p>The <strong>git push</strong> command pushes commits in a local working copy to a
remote repository. The syntax is git push [remote] [local branch].
Before pushing, a developer should always pull (or fetch + merge), so
that there is an opportunity to resolve conflicts before pushing to the
remote.</p>

<h3>Exercise : Push a change to github</h3>

<p>We&#39;ll talk about conflicts later, but first, since we have no conflicts
and are up to date, we can make a minor change and send our changes to
your fork, the &quot;origin.&quot;</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git push origin YYYY-MM-PLACE
</code></pre></div>
<p>If you have permission to push to the upstream repository, sending
commits to that remote is exactly analagous.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git push upstream YYYY-MM-PLACE
</code></pre></div>
<p>In the case of the YYYY-MM-PLACE code, new developer accounts will not allow
this push to succeed. You&#39;re welcome to try it though.</p>

<h2>git merge : Conflicts</h2>

<p>This is the trickiest part of version control, so let&#39;s take it very
carefully.</p>

<p>In the YYYY-MM-PLACE code, you&#39;ll find a file called Readme.md. This is a
standard documentation file that appears rendered on the landing page
for the repository in github. To see the rendered version, visit your
fork on github, (https://github.com/YOU/boot-camps/tree/YYYY-MM-PLACE/README.md).</p>

<p>For illustration, let&#39;s imagine that, suddenly, each of the developers
on the YYYY-MM-PLACE code would like to welcome visitors in a language other
than English. Since we&#39;re all from so many different places and speak
so many languages, there will certainly be disagreements about what to
say instead of &quot;Welcome.&quot;</p>

<p>I, for example, am from Tamil Nadu, India, so I&#39;ll push (to the upstream
repository) my own version of Welcome on line 5 of Readme.md.</p>

<p>You may speak another language, perhaps even English, however, and may want
to replace the Tamil word &#39;vanakkam&#39; with an equivalent word that you
prefer (welcome, willkommen, bienvenido, benvenuti, etc.).</p>

<p>You&#39;ll want to start a new branch for development. It&#39;s a good convention
to think of your master branch (in this case your YYYY-MM-PLACE branch) as
the &quot;production branch,&quot; typically by keeping that branch clean of your
local edits until they are ready for release. Developers typically use the
master branch of their local fork to track other developers changes in the
remote repository until their own local development branch changes are
ready for production.</p>

<h3>Exercise : Experience a Conflict</h3>

<p>Step 1 : Make a new branch, edit the readme file in that branch, and
commit your changes.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git branch development
$ git checkout development
Switched to branch &#39;development&#39;
$ kate Readme.md &amp;
&lt;edit the readme file and exit kate&gt;
$ git commit -am &quot;Changed the welcome message to ... &quot;
</code></pre></div>
<p>Step 2 : Mirror the remote upstream repository in your master branch (in
this case your YYYY-MM-PLACE branch) by pulling down my changes</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git checkout YYYY-MM-PLACE
Switched to branch &#39;YYYY-MM-PLACE&#39;
$ git fetch upstream
$ git merge upstream/YYYY-MM-PLACE
Updating 43844ea..3b36a87
Fast-forward
 README.rst |   2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)
</code></pre></div>
<p>Step 3 : You want to push it to the internet eventually, so you pull
updates from the upstream repository, but will experience a conflict.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git merge development
Auto-merging Readme.md
CONFLICT (content): Merge conflict in Readme.md
Automatic merge failed; fix conflicts and then commit the result.
</code></pre></div>
<h2>git resolve : Resolving Conflicts</h2>

<p>Now what?</p>

<p>Git has paused the merge. You can see this with the <strong>git status</strong>
command.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text"># On branch YYYY-MM-PLACE
# Unmerged paths:
#   (use &quot;git add/rm &lt;file&gt;...&quot; as appropriate to mark resolution)
#
#       unmerged:      Readme.md
#
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre></div>
<p>The only thing that has changed is the Readme.md file. Opening it,
you&#39;ll see something like this at the beginning of the file.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">=====================
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Vanakkam
=======
Willkommen
&gt;&gt;&gt;&gt;&gt;&gt;&gt; development
=====================
</code></pre></div>
<p>The intent is for you to edit the file, knowing now that I wanted the
Welcome to say Vanakkam. If you want it to say Willkommen, you should
delete the other lines. However, if you want to be inclusive, you may
want to change it to read Vanakkam and Willkommen. Decisions such as this
one must be made by a human, and why conflict resolution is not handled
more automatically by the version control system.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">Vanakkam and Willkommen
</code></pre></div>
<p>This results in a status To alert git that you have made appropriate
alterations,</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">$ git add Readme.md
$ git commit
Merge branch &#39;development&#39;

Conflicts:
  Readme.md
#
# It looks like you may be committing a MERGE.
# If this is not correct, please remove the file
# .git/MERGE_HEAD
# and try again.
#
$ git push origin YYYY-MM-PLACE
Counting objects: 10, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 762 bytes, done.
Total 6 (delta 2), reused 0 (delta 0)
To git@github.com:username/boot-camps.git
</code></pre></div>
<h2>gitolite</h2>

<p><a href="https://github.com/sitaramc/gitolite">Gitolite</a> is a way for you to host
your own multi-user git repositories. I&#39;m not going to go into details
here, but all you need is a machine with some drive space and network
access. You can install
<a href="https://help.ubuntu.com/community/Installation/MinimalCD">minimal ubuntu</a>,
then <code>sudo apt-get install gitolite</code> will pull in everything you
need. At that point, your collaborators will only need to send you
their public SSH keys for you to configure pull and push access to the
repos.</p>

	</div>
      </div>

      <div class="footer">
  <a class="label swc-blue-bg" href="https://www.facebook.com/SoftwareCarpentry">Facebook</a>
  <a class="label swc-blue-bg" href="https://plus.google.com/u/0/114244759874490019250/posts">Google+</a>
  <a class="label swc-blue-bg" href="https://twitter.com/swcarpentry">Twitter</a>
  <a class="label swc-blue-bg" href="https://github.com/swcarpentry">GitHub</a>
  <a class="label swc-blue-bg" href="http://software-carpentry.org/feed.xml">RSS</a>
  <a class="label swc-blue-bg" href="../../license.html">License</a>
  <a class="bugreport label swc-blue-bg" href="mailto:info@software-carpentry.org?subject=bug%20in%20lessons/thw-git/remote.md">Bug Report</a>
</div>

    </div>
    <!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../../js/jquery-1.9.1.min.js"></script>
<script src="../../js/bootstrap/bootstrap.min.js"></script>

  </body>
</html>
